---
description: 
globs: 
alwaysApply: true
---
# 360ghar - Flutter GetX Real Estate App (Bumble-Inspired Design)

## Project Overview
360ghar is a Flutter application using GetX for state management that transforms real estate browsing into an engaging, dating-app-like experience similar to Bumble. Users can swipe through properties with 360Â° virtual tours, exact location mapping, and detailed property information.

**Package Name**: `ghar360` (changed from "360ghar" as Dart package names cannot start with numbers)

## Implementation Status âœ…
- **Complete Project Structure**: All modules, controllers, and bindings implemented
- **Mock API Integration**: JSON-based mock data with 6 diverse properties
- **Navigation**: Bottom navigation with 5 tabs fully functional
- **Property Listings**: Cards with images, pricing, bed/bath/sqft info
- **Favorites System**: Add/remove properties with reactive state management
- **Property Details**: Full details view with image gallery, amenities, agent info
- **360Â° Tour Integration**: WebView placeholder for virtual tours
- **Platform Support**: iOS and Android with proper configuration
- **Theme System**: Complete Bumble-inspired theme implementation

## Design Philosophy
- **Bumble-Inspired UI/UX**: Clean, modern, card-based interface with swiping mechanics
- **Color Psychology**: Warm, inviting colors that build trust for real estate decisions
- **Mobile-First**: Thumb-friendly navigation optimized for one-handed use
- **Gamification**: Make property hunting exciting and engaging

## Color Palette (Bumble-Inspired)
```dart
// Primary Colors - Implemented in [lib/app/utils/theme.dart](mdc:lib/app/utils/theme.dart)
static const Color primaryYellow = Color(0xFFFFBC05);    // Bumble's signature yellow
static const Color primaryYellowDark = Color(0xFFE3AA04); // Darker yellow variant
static const Color primaryYellowLight = Color(0xFFFCC937); // Lighter yellow variant

// Secondary Colors
static const Color accentOrange = Color(0xFFFF6B35);     // Real estate accent
static const Color accentBlue = Color(0xFF4A90E2);       // Trust and reliability
static const Color accentGreen = Color(0xFF50C878);      // Success/available properties

// Neutral Colors
static const Color backgroundWhite = Color(0xFFFFFFFF);
static const Color backgroundGray = Color(0xFFF8F9FA);
static const Color textDark = Color(0xFF2C2C2C);
static const Color textGray = Color(0xFF666666);
static const Color textLight = Color(0xFF999999);
static const Color cardShadow = Color(0x1A000000);

// Status Colors
static const Color successGreen = Color(0xFF28A745);
static const Color warningAmber = Color(0xFFFFC107);
static const Color errorRed = Color(0xFFDC3545);
```

## Implemented Project Structure
```
lib/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ bindings/
â”‚   â”‚   â”œâ”€â”€ initial_binding.dart          âœ… Dependency injection setup
â”‚   â”‚   â””â”€â”€ property_binding.dart         âœ… Property-specific bindings
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ property_controller.dart      âœ… Property state management
â”‚   â”‚   â”œâ”€â”€ user_controller.dart          âœ… User profile management
â”‚   â”‚   â”œâ”€â”€ explore_controller.dart       âœ… Map and location features
â”‚   â”‚   â””â”€â”€ swipe_controller.dart         ğŸš§ In progress - swipe mechanics
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ property_model.dart       âœ… Complete with JSON serialization
â”‚   â”‚   â”‚   â””â”€â”€ user_model.dart           âœ… User profile model
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â””â”€â”€ mock_api_provider.dart    âœ… JSON-based mock API
â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”‚       â”œâ”€â”€ property_repository.dart  âœ… Property data access layer
â”‚   â”‚       â””â”€â”€ user_repository.dart      âœ… User data access layer
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”œâ”€â”€ splash/                       âœ… App launch screen
â”‚   â”‚   â”œâ”€â”€ home/                         âœ… Property listings (needs swipe UI)
â”‚   â”‚   â”œâ”€â”€ auth/                         âœ… Login/signup placeholders
â”‚   â”‚   â”œâ”€â”€ property_details/             âœ… Full property details view
â”‚   â”‚   â”œâ”€â”€ favourites/                   âœ… Liked properties management
â”‚   â”‚   â”œâ”€â”€ profile/                      âœ… User profile and preferences
â”‚   â”‚   â”œâ”€â”€ visits/                       âœ… Appointments and agent info
â”‚   â”‚   â””â”€â”€ explore/                      âœ… Map view with property markers
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ app_pages.dart               âœ… Route definitions
â”‚   â”‚   â””â”€â”€ app_routes.dart              âœ… Route constants
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ constants.dart               âœ… App constants
â”‚       â”œâ”€â”€ theme.dart                   âœ… Complete theme system
â”‚       â””â”€â”€ helpers.dart                 âœ… Utility functions
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”œâ”€â”€ custom_button.dart           âœ… Reusable button component
â”‚   â”‚   â”œâ”€â”€ loading_indicator.dart       âœ… Loading states
â”‚   â”‚   â””â”€â”€ custom_app_bar.dart          âœ… App bar component
â”‚   â””â”€â”€ property/
â”‚       â”œâ”€â”€ property_card.dart           âœ… Property display cards
â”‚       â””â”€â”€ property_swipe_stack.dart    ğŸš§ Needs implementation
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ mock_api/
â”‚       â”œâ”€â”€ properties.json              âœ… 6 diverse properties with real images
â”‚       â”œâ”€â”€ user.json                    âœ… User profile data
â”‚       â””â”€â”€ favourites.json              âœ… Favorites tracking
â””â”€â”€ main.dart                            âœ… App entry point
```

## Mock Data Implementation âœ…

### Properties Data Structure
Located in [assets/mock_api/properties.json](mdc:assets/mock_api/properties.json):
- **6 Diverse Properties**: Apartments, condos, houses, penthouse, Victorian, loft
- **Price Range**: $320K - $1.2M
- **Real Images**: High-quality Unsplash property photos
- **Complete Details**: Bedrooms, bathrooms, square footage, amenities
- **Agent Information**: Names, photos, contact details
- **360Â° Tour URLs**: Placeholder virtual tour links
- **Location Data**: Addresses in major US cities

### Sample Property Structure
```json
{
  "id": "prop_001",
  "title": "Modern Downtown Apartment",
  "address": "123 Main St, New York, NY 10001",
  "price": 850000,
  "bedrooms": 2,
  "bathrooms": 2,
  "area": 1200,
  "propertyType": "Apartment",
  "images": ["https://images.unsplash.com/photo-1..."],
  "tour360Url": "https://example.com/tour/prop_001",
  "amenities": ["Gym", "Pool", "Parking", "Balcony"],
  "agent": {
    "id": "agent_001",
    "name": "Sarah Johnson",
    "phone": "+1-555-0101",
    "email": "sarah@realestate.com",
    "photo": "https://images.unsplash.com/photo-..."
  }
}
```

## Navigation Implementation âœ…

### Bottom Navigation (Bumble-Inspired)
Order: **Profile â†’ Discover â†’ Properties â†’ Liked â†’ Visits**
- **Profile**: User management and preferences
- **Discover**: Map view with property markers  
- **Properties**: Main swipe interface (center/home position)
- **Liked**: Favorited properties
- **Visits**: Agent appointments and scheduled tours

Implementation in [lib/widgets/navigation/bottom_nav_bar.dart](mdc:lib/widgets/navigation/bottom_nav_bar.dart)

## Design Components

### 1. Property Cards (Bumble-Style) ğŸš§
**Current**: List-based cards
**Target**: Full-screen swipeable cards matching Bumble UI
- **Card Dimensions**: Full-screen cards with rounded corners (16px)
- **Property Images**: High-quality hero images with gradient overlays
- **Property Info Overlay**: Bottom overlay with key details
- **Swipe Actions**: Visual indicators for like/pass actions
- **Card Stack**: 5-card stack with subtle parallax effect

### 2. Swipe Mechanics ğŸš§
**Status**: Needs implementation in PropertySwipeStack widget
- **Swipe Right**: Add to favorites/interested
- **Swipe Left**: Pass/not interested  
- **Swipe Up**: Quick view details
- **Double Tap**: Super like/priority interest
- **Visual Feedback**: Card rotation, scaling, and color hints

### 3. Typography âœ…
Implemented in [lib/app/utils/theme.dart](mdc:lib/app/utils/theme.dart):
```dart
// Typography Scale (SF Pro / Circular-inspired)
static const TextStyle headlineLarge = TextStyle(
  fontSize: 32,
  fontWeight: FontWeight.bold,
  color: textDark,
  letterSpacing: -0.5,
);

static const TextStyle headlineMedium = TextStyle(
  fontSize: 24,
  fontWeight: FontWeight.bold,
  color: textDark,
  letterSpacing: -0.25,
);

static const TextStyle titleLarge = TextStyle(
  fontSize: 20,
  fontWeight: FontWeight.w600,
  color: textDark,
);

static const TextStyle bodyLarge = TextStyle(
  fontSize: 16,
  fontWeight: FontWeight.normal,
  color: textDark,
  height: 1.5,
);

static const TextStyle bodyMedium = TextStyle(
  fontSize: 14,
  fontWeight: FontWeight.normal,
  color: textGray,
  height: 1.4,
);
```

## GetX Implementation âœ…

### 1. Controllers
All controllers implemented with reactive state management:
- **PropertyController**: Property listings, favorites, filtering
- **UserController**: User profile and preferences
- **ExploreController**: Map functionality and location services
- **SwipeController**: ğŸš§ Needs implementation for swipe mechanics

### 2. Bindings
Dependency injection setup:
- **InitialBinding**: App-wide dependencies
- **PropertyBinding**: Property-specific controllers
- Module-specific bindings for each screen

### 3. Routes âœ…
Complete route management in [lib/app/routes/](mdc:lib/app/routes):
- Named routes with GetX
- Route guards for authentication
- Proper navigation flow

## Technical Solutions Implemented âœ…

### 1. Package Naming Issue
**Problem**: Dart packages cannot start with numbers
**Solution**: Changed from "360ghar" to "ghar360"

### 2. Environment Configuration
**Problem**: EmptyEnvFileError on startup
**Solution**: Added [.env.development](mdc:.env.development) and [.env.production](mdc:.env.production) files

### 3. Theme Issues
**Problem**: CardTheme vs CardThemeData conflicts
**Solution**: Updated theme configuration in [lib/app/utils/theme.dart](mdc:lib/app/utils/theme.dart)

### 4. iOS Platform Support
**Problem**: Missing iOS configuration
**Solution**: Added iOS platform files, CocoaPods setup, iOS 14.0 deployment target

### 5. JSON Serialization
**Problem**: Model serialization errors
**Solution**: Regenerated with `flutter packages pub run build_runner build`

## Real Estate Specific Features âœ…

### 1. Property Model
Complete implementation in [lib/app/data/models/property_model.dart](mdc:lib/app/data/models/property_model.dart):
```dart
class PropertyModel {
  final String id;
  final String title;
  final String address;
  final double price;
  final int bedrooms;
  final int bathrooms;
  final double area;
  final String propertyType;
  final List<String> images;
  final String tour360Url;
  final AgentModel agent;
  final List<String> amenities;
  final bool isAvailable;
  final DateTime listedDate;
  final String description;
}
```

### 2. 360Â° Tour Integration âœ…
- WebView implementation for virtual tours
- Placeholder URLs in mock data
- Ready for real tour service integration

### 3. Location Features âœ…
- Map integration in Explore module
- Property location markers
- Address display and mapping

### 4. Favorites System âœ…
- Add/remove properties from favorites
- Reactive state management with GetX
- Persistent storage ready

## Current Development Status

### âœ… Completed Features
1. **Project Setup**: Complete Flutter GetX architecture
2. **Mock API**: JSON-based data with 6 diverse properties
3. **Navigation**: 5-tab bottom navigation fully functional
4. **Property Listings**: Basic card-based property display
5. **Property Details**: Full details view with image gallery
6. **Favorites**: Add/remove functionality with state management
7. **User Profile**: Profile management and preferences
8. **Map Integration**: Explore view with property markers
9. **Theme System**: Complete Bumble-inspired design system
10. **Platform Support**: iOS and Android configuration

### ğŸš§ In Progress
1. **Swipe Interface**: Converting home view to Bumble-style swipe cards
2. **PropertySwipeStack Widget**: Core swipe component needs implementation
3. **Swipe Animations**: Card rotation, scaling, and gesture handling

### ğŸ“‹ Next Steps
1. Implement PropertySwipeStack widget for Bumble-style swiping
2. Add swipe gesture recognition and animations
3. Implement card stack with parallax effects
4. Add visual feedback for swipe actions
5. Integrate swipe actions with favorites system

## UI/UX Guidelines

### 1. Onboarding (Bumble-Style)
- Progressive disclosure of features
- Visual preference setup
- Location permission request
- Push notification setup
- Profile completion progress

### 2. Animation Guidelines
- Use Flutter's built-in animations
- Implement smooth card transitions
- Add micro-interactions for feedback
- Use Hero animations for navigation
- Implement spring animations for swipe gestures

### 3. Accessibility
- Semantic labels for screen readers
- Sufficient color contrast ratios
- Touch target sizes (minimum 44px)
- Focus management for keyboard navigation

### 4. Performance Optimization
- Image caching and optimization
- Lazy loading for property lists
- Efficient memory management
- Background data fetching

## Development Best Practices âœ…

### Core Development Principles
Follow these principles across the entire 360ghar application:

âœ… **DRY Principle (Don't Repeat Yourself)**
- No code duplication across pages, widgets, or components
- Reusable widgets in `lib/widgets/` directory
- Shared utilities in `lib/app/utils/`
- Common controllers for cross-cutting concerns
- Example: `CustomBottomNavigationBar` used across all main screens

âœ… **Maintainability**
- Single source of truth for business logic
- Centralized state management with GetX controllers
- Consistent file naming and folder structure
- Easy to update and modify without breaking changes
- Example: Navigation logic centralized in one reusable widget

âœ… **Consistency**
- Uniform styling across all pages using AppTheme
- Consistent behavior patterns (loading states, error handling)
- Standardized UI components and interactions
- Same design patterns throughout the app
- Example: All pages use same bottom navigation styling and behavior

âœ… **Complete Coverage**
- All main features properly implemented
- Navigation available from every relevant screen
- Proper error states and loading indicators
- Offline capability considerations
- Cross-platform compatibility (iOS/Android)

âœ… **Better UX (User Experience)**
- Intuitive navigation flow
- Quick access to all app sections
- Responsive and performant interactions
- Accessibility considerations
- Example: Users can navigate from any page, including discover/map view

âœ… **Scalability**
- Modular architecture supports easy feature additions
- Clean separation of concerns
- Extensible widget system
- Future-proof state management patterns

âœ… **Code Quality**
- Proper TypeScript-like typing with Dart
- Comprehensive error handling
- Clean, readable code with meaningful names
- Documentation through comments and README files

### 1. Code Organization
- Clean Architecture principles implemented
- Business logic separated from UI
- Repository pattern for data access
- Proper error handling throughout
- Modular structure with clear separation of concerns

### 2. State Management
- GetX reactive programming with `.obs`
- Proper loading states implemented
- Error states handled gracefully
- Data caching in controllers
- Centralized state for cross-cutting concerns

### 3. API Integration
- Mock API provider for development
- Proper error handling structure
- Ready for real API integration
- Offline capability with local storage
- Consistent data fetching patterns

### 4. Widget Reusability
- Custom widgets in dedicated directories
- Parameterized components for flexibility
- Consistent prop interfaces
- Theme-aware styling
- Example: CustomBottomNavigationBar used across all screens

### 5. Performance Optimization
- Lazy loading where appropriate
- Efficient memory management
- Image caching and optimization
- Minimal rebuilds with GetX reactivity
- Background data processing

### 6. Implementation Guidelines

#### When Adding New Features:
- **Always check for existing similar components** before creating new ones
- **Follow the established folder structure** in `lib/app/modules/`
- **Create reusable widgets** in `lib/widgets/` if they'll be used in multiple places
- **Use GetX controllers** for state management, never StatefulWidget for complex state
- **Implement proper error handling** with user-friendly messages
- **Add loading states** for all async operations
- **Follow the Bumble-inspired design system** with colors from AppTheme
- **Test on both iOS and Android** platforms

#### Widget Creation Standards:
- **Parameterize everything** that might change (colors, sizes, callbacks)
- **Use AppTheme colors** instead of hardcoded values
- **Add proper documentation** with clear parameter descriptions
- **Make widgets responsive** to different screen sizes
- **Include error states** and loading indicators where appropriate
- **Follow naming conventions**: PascalCase for classes, camelCase for variables

#### Code Review Checklist:
âœ… No hardcoded strings or colors  
âœ… Proper error handling implemented  
âœ… Loading states for async operations  
âœ… Consistent with existing code patterns  
âœ… Reusable components placed in correct directories  
âœ… GetX reactivity used properly with `.obs`  
âœ… Navigation follows established patterns  
âœ… Accessibility considerations included  
âœ… Performance optimizations applied  
âœ… Cross-platform compatibility verified  

#### Example Implementation Pattern:
```dart
// âœ… Good: Reusable, parameterized, theme-aware
class CustomPropertyCard extends StatelessWidget {
  final PropertyModel property;
  final bool isFavorite;
  final VoidCallback? onFavoriteToggle;
  final VoidCallback? onTap;
  
  const CustomPropertyCard({
    Key? key,
    required this.property,
    this.isFavorite = false,
    this.onFavoriteToggle,
    this.onTap,
  }) : super(key: key);
  
  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: BoxDecoration(
        color: AppTheme.backgroundWhite,
        borderRadius: BorderRadius.circular(16),
        boxShadow: [AppTheme.cardShadow],
      ),
      // ... implementation
    );
  }
}

// âŒ Bad: Hardcoded values, not reusable
class PropertyCard extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Container(
      color: Colors.white, // Should use AppTheme
      // Hardcoded property data, not parameterized
    );
  }
}
```

## Gamification Elements

### 1. Progress Tracking
- Profile completion percentage
- Property viewing streaks
- Monthly browsing goals
- Achievement badges

### 2. Engagement Features
- Daily property recommendations
- "Hot properties" section
- Agent response time indicators
- Property match percentage

### 3. Social Elements
- Share favorite properties
- Property comparison features
- Community reviews/ratings
- Wishlist sharing

## Security & Privacy

### 1. User Data Protection
- Secure authentication (OAuth/ Backend)
- Encrypted local storage
- Privacy-compliant location tracking
- GDPR compliance for EU users

### 2. Real Estate Specific Security
- Verified property listings
- Authenticated agent profiles
- Photo authenticity verification

## Key Files Reference

### Core Architecture
- [lib/main.dart](mdc:lib/main.dart) - App entry point
- [lib/app/utils/theme.dart](mdc:lib/app/utils/theme.dart) - Complete theme system
- [lib/app/routes/app_pages.dart](mdc:lib/app/routes/app_pages.dart) - Route definitions
- [lib/app/bindings/initial_binding.dart](mdc:lib/app/bindings/initial_binding.dart) - Dependency injection

### Data Layer
- [lib/app/data/models/property_model.dart](mdc:lib/app/data/models/property_model.dart) - Property data model
- [lib/app/data/providers/mock_api_provider.dart](mdc:lib/app/data/providers/mock_api_provider.dart) - Mock API implementation
- [assets/mock_api/properties.json](mdc:assets/mock_api/properties.json) - Property mock data

### Controllers
- [lib/app/controllers/property_controller.dart](mdc:lib/app/controllers/property_controller.dart) - Property state management
- [lib/app/controllers/user_controller.dart](mdc:lib/app/controllers/user_controller.dart) - User management
- [lib/app/controllers/explore_controller.dart](mdc:lib/app/controllers/explore_controller.dart) - Map functionality

### Views
- [lib/app/modules/home/views/home_view.dart](mdc:lib/app/modules/home/views/home_view.dart) - Main property listings (needs swipe UI)
- [lib/app/modules/property_details/views/property_details_view.dart](mdc:lib/app/modules/property_details/views/property_details_view.dart) - Property details
- [lib/widgets/navigation/bottom_nav_bar.dart](mdc:lib/widgets/navigation/bottom_nav_bar.dart) - Bottom navigation

This comprehensive guide ensures the 360ghar app delivers a polished, Bumble-inspired experience while maintaining the functionality and trust required for real estate applications. The project is currently functional with all major features implemented, with the main remaining task being the conversion of the property listings to a Bumble-style swipe interface.
